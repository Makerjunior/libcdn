function iniciarLeitura(){const botaoLer=document.getElementById('botaoLer');const audioPlayer=document.getElementById('audioPlayer');let utterance;let isLendo=!1;let lastCharIndex=0;botaoLer.addEventListener('click',function(){const primeiroElementoDeConteudo=document.querySelector('body > *:not(header)');if(primeiroElementoDeConteudo){const texto=pegarTextoElemento(primeiroElementoDeConteudo);if(!isLendo){isLendo=!0;botaoLer.classList.add('pausado');botaoLer.textContent='Pausar';if(!utterance){utterance=new SpeechSynthesisUtterance(texto);utterance.lang='pt-BR';utterance.onend=function(){isLendo=!1;botaoLer.textContent='Ouvir';botaoLer.classList.remove('pausado')}}else{window.speechSynthesis.resume()}utterance.text=texto;window.speechSynthesis.speak(utterance);audioPlayer.src=URL.createObjectURL(new Blob([texto],{type:'text/plain'}))}else{isLendo=!1;botaoLer.classList.remove('pausado');botaoLer.textContent='Ouvir';window.speechSynthesis.pause()}}else{alert('Não há conteúdo para ler.')}});function pegarTextoElemento(elemento){let texto='';const filhos=elemento.childNodes;filhos.forEach(filho=>{if(filho.nodeType===Node.TEXT_NODE){texto+=filho.textContent.trim()+' '}else if(filho.nodeType===Node.ELEMENT_NODE){texto+=pegarTextoElemento(filho)}});return texto.trim()}}